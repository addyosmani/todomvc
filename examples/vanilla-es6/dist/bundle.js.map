{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/app.js","webpack:///./src/controller.js","webpack:///./src/item.js","webpack:///./src/store.js","webpack:///./src/view.js","webpack:///./src/helpers.js","webpack:///./src/template.js"],"names":["store","Store","template","Template","view","View","controller","Controller","setView","document","location","hash","window","bindAddItem","addItem","bind","bindEditItemSave","editItemSave","bindEditItemCancel","editItemCancel","bindRemoveItem","removeItem","bindToggleItem","id","completed","toggleCompleted","_filter","bindRemoveCompleted","removeCompletedItems","bindToggleAll","toggleAll","_activeRoute","_lastActiveRoute","raw","route","replace","updateFilterButtons","title","insert","Date","now","clearNewTodo","length","update","editItemDone","find","data","remove","setItemComplete","force","emptyItemQuery","showItems","count","total","active","setItemsLeft","setClearCompletedButtonVisibility","setCompleteAllCheckbox","setMainVisibility","Item","ItemList","Empty","Record","EmptyItemQuery","ItemQuery","ItemUpdate","name","callback","localStorage","liveTodos","getLocalStorage","JSON","parse","getItem","setLocalStorage","todos","setItem","stringify","query","k","filter","todo","i","item","push","_itemId","parseInt","element","parentNode","dataset","ENTER_KEY","ESCAPE_KEY","$todoList","$todoItemCounter","$clearCompleted","$main","$toggleAll","$newTodo","target","editItem","listItem","parentElement","classList","add","input","createElement","className","value","innerText","appendChild","focus","items","innerHTML","itemList","elem","removeChild","itemsLeft","itemCounter","visible","style","display","checked","textContent","handler","trim","iscanceled","keyCode","blur","qs","$on","$delegate","selector","scope","querySelector","type","capture","addEventListener","dispatchEvent","targetElement","event","potentialElements","querySelectorAll","call","escapeForHTML","s","c","reduce","a","activeTodos"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import Controller from './controller';\nimport {$on} from './helpers';\nimport Template from './template';\nimport Store from './store';\nimport View from './view';\n\nconst store = new Store('todos-vanilla-es6');\n\nconst template = new Template();\nconst view = new View(template);\n\n/**\n * @type {Controller}\n */\nconst controller = new Controller(store, view);\n\nconst setView = () => controller.setView(document.location.hash);\n$on(window, 'load', setView);\n$on(window, 'hashchange', setView);\n","import {emptyItemQuery} from './item';\nimport Store from './store';\nimport View from './view';\n\nexport default class Controller {\n\t/**\n\t * @param  {!Store} store A Store instance\n\t * @param  {!View} view A View instance\n\t */\n\tconstructor(store, view) {\n\t\tthis.store = store;\n\t\tthis.view = view;\n\n\t\tview.bindAddItem(this.addItem.bind(this));\n\t\tview.bindEditItemSave(this.editItemSave.bind(this));\n\t\tview.bindEditItemCancel(this.editItemCancel.bind(this));\n\t\tview.bindRemoveItem(this.removeItem.bind(this));\n\t\tview.bindToggleItem((id, completed) => {\n\t\t\tthis.toggleCompleted(id, completed);\n\t\t\tthis._filter();\n\t\t});\n\t\tview.bindRemoveCompleted(this.removeCompletedItems.bind(this));\n\t\tview.bindToggleAll(this.toggleAll.bind(this));\n\n\t\tthis._activeRoute = '';\n\t\tthis._lastActiveRoute = null;\n\t}\n\n\t/**\n\t * Set and render the active route.\n\t *\n\t * @param {string} raw '' | '#/' | '#/active' | '#/completed'\n\t */\n\tsetView(raw) {\n\t\tconst route = raw.replace(/^#\\//, '');\n\t\tthis._activeRoute = route;\n\t\tthis._filter();\n\t\tthis.view.updateFilterButtons(route);\n\t}\n\n\t/**\n\t * Add an Item to the Store and display it in the list.\n\t *\n\t * @param {!string} title Title of the new item\n\t */\n\taddItem(title) {\n\t\tthis.store.insert({\n\t\t\tid: Date.now(),\n\t\t\ttitle,\n\t\t\tcompleted: false\n\t\t}, () => {\n\t\t\tthis.view.clearNewTodo();\n\t\t\tthis._filter(true);\n\t\t});\n\t}\n\n\t/**\n\t * Save an Item in edit.\n\t *\n\t * @param {number} id ID of the Item in edit\n\t * @param {!string} title New title for the Item in edit\n\t */\n\teditItemSave(id, title) {\n\t\tif (title.length) {\n\t\t\tthis.store.update({id, title}, () => {\n\t\t\t\tthis.view.editItemDone(id, title);\n\t\t\t});\n\t\t} else {\n\t\t\tthis.removeItem(id);\n\t\t}\n\t}\n\n\t/**\n\t * Cancel the item editing mode.\n\t *\n\t * @param {!number} id ID of the Item in edit\n\t */\n\teditItemCancel(id) {\n\t\tthis.store.find({id}, data => {\n\t\t\tconst title = data[0].title;\n\t\t\tthis.view.editItemDone(id, title);\n\t\t});\n\t}\n\n\t/**\n\t * Remove the data and elements related to an Item.\n\t *\n\t * @param {!number} id Item ID of item to remove\n\t */\n\tremoveItem(id) {\n\t\tthis.store.remove({id}, () => {\n\t\t\tthis._filter();\n\t\t\tthis.view.removeItem(id);\n\t\t});\n\t}\n\n\t/**\n\t * Remove all completed items.\n\t */\n\tremoveCompletedItems() {\n\t\tthis.store.remove({completed: true}, this._filter.bind(this));\n\t}\n\n\t/**\n\t * Update an Item in storage based on the state of completed.\n\t *\n\t * @param {!number} id ID of the target Item\n\t * @param {!boolean} completed Desired completed state\n\t */\n\ttoggleCompleted(id, completed) {\n\t\tthis.store.update({id, completed}, () => {\n\t\t\tthis.view.setItemComplete(id, completed);\n\t\t});\n\t}\n\n\t/**\n\t * Set all items to complete or active.\n\t *\n\t * @param {boolean} completed Desired completed state\n\t */\n\ttoggleAll(completed) {\n\t\tthis.store.find({completed: !completed}, data => {\n\t\t\tfor (let {id} of data) {\n\t\t\t\tthis.toggleCompleted(id, completed);\n\t\t\t}\n\t\t});\n\n\t\tthis._filter();\n\t}\n\n\t/**\n\t * Refresh the list based on the current route.\n\t *\n\t * @param {boolean} [force] Force a re-paint of the list\n\t */\n\t_filter(force) {\n\t\tconst route = this._activeRoute;\n\n\t\tif (force || this._lastActiveRoute !== '' || this._lastActiveRoute !== route) {\n\t\t\t/* jscs:disable disallowQuotedKeysInObjects */\n\t\t\tthis.store.find({\n\t\t\t\t'': emptyItemQuery,\n\t\t\t\t'active': {completed: false},\n\t\t\t\t'completed': {completed: true}\n\t\t\t}[route], this.view.showItems.bind(this.view));\n\t\t\t/* jscs:enable disallowQuotedKeysInObjects */\n\t\t}\n\n\t\tthis.store.count((total, active, completed) => {\n\t\t\tthis.view.setItemsLeft(active);\n\t\t\tthis.view.setClearCompletedButtonVisibility(completed);\n\n\t\t\tthis.view.setCompleteAllCheckbox(completed === total);\n\t\t\tthis.view.setMainVisibility(total);\n\t\t});\n\n\t\tthis._lastActiveRoute = route;\n\t}\n}\n","/**\n * @typedef {!{id: number, completed: boolean, title: string}}\n */\nexport var Item;\n\n/**\n * @typedef {!Array<Item>}\n */\nexport var ItemList;\n\n/**\n * Enum containing a known-empty record type, matching only empty records unlike Object.\n *\n * @enum {Object}\n */\nconst Empty = {\n\tRecord: {}\n};\n\n/**\n * Empty ItemQuery type, based on the Empty @enum.\n *\n * @typedef {Empty}\n */\nexport var EmptyItemQuery;\n\n/**\n * Reference to the only EmptyItemQuery instance.\n *\n * @type {EmptyItemQuery}\n */\nexport const emptyItemQuery = Empty.Record;\n\n/**\n * @typedef {!({id: number}|{completed: boolean}|EmptyItemQuery)}\n */\nexport var ItemQuery;\n\n/**\n * @typedef {!({id: number, title: string}|{id: number, completed: boolean})}\n */\nexport var ItemUpdate;\n","import {Item, ItemList, ItemQuery, ItemUpdate, emptyItemQuery} from './item';\n\nexport default class Store {\n\t/**\n\t * @param {!string} name Database name\n\t * @param {function()} [callback] Called when the Store is ready\n\t */\n\tconstructor(name, callback) {\n\t\t/**\n\t\t * @type {Storage}\n\t\t */\n\t\tconst localStorage = window.localStorage;\n\n\t\t/**\n\t\t * @type {ItemList}\n\t\t */\n\t\tlet liveTodos;\n\n\t\t/**\n\t\t * Read the local ItemList from localStorage.\n\t\t *\n\t\t * @returns {ItemList} Current array of todos\n\t\t */\n\t\tthis.getLocalStorage = () => {\n\t\t\treturn liveTodos || JSON.parse(localStorage.getItem(name) || '[]');\n\t\t};\n\n\t\t/**\n\t\t * Write the local ItemList to localStorage.\n\t\t *\n\t\t * @param {ItemList} todos Array of todos to write\n\t\t */\n\t\tthis.setLocalStorage = (todos) => {\n\t\t\tlocalStorage.setItem(name, JSON.stringify(liveTodos = todos));\n\t\t};\n\n\t\tif (callback) {\n\t\t\tcallback();\n\t\t}\n\t}\n\n\t/**\n\t * Find items with properties matching those on query.\n\t *\n\t * @param {ItemQuery} query Query to match\n\t * @param {function(ItemList)} callback Called when the query is done\n\t *\n\t * @example\n\t * db.find({completed: true}, data => {\n\t *\t // data shall contain items whose completed properties are true\n\t * })\n\t */\n\tfind(query, callback) {\n\t\tconst todos = this.getLocalStorage();\n\t\tlet k;\n\n\t\tcallback(todos.filter(todo => {\n\t\t\tfor (k in query) {\n\t\t\t\tif (query[k] !== todo[k]) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}));\n\t}\n\n\t/**\n\t * Update an item in the Store.\n\t *\n\t * @param {ItemUpdate} update Record with an id and a property to update\n\t * @param {function()} [callback] Called when partialRecord is applied\n\t */\n\tupdate(update, callback) {\n\t\tconst id = update.id;\n\t\tconst todos = this.getLocalStorage();\n\t\tlet i = todos.length;\n\t\tlet k;\n\n\t\twhile (i--) {\n\t\t\tif (todos[i].id === id) {\n\t\t\t\tfor (k in update) {\n\t\t\t\t\ttodos[i][k] = update[k];\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tthis.setLocalStorage(todos);\n\n\t\tif (callback) {\n\t\t\tcallback();\n\t\t}\n\t}\n\n\t/**\n\t * Insert an item into the Store.\n\t *\n\t * @param {Item} item Item to insert\n\t * @param {function()} [callback] Called when item is inserted\n\t */\n\tinsert(item, callback) {\n\t\tconst todos = this.getLocalStorage();\n\t\ttodos.push(item);\n\t\tthis.setLocalStorage(todos);\n\n\t\tif (callback) {\n\t\t\tcallback();\n\t\t}\n\t}\n\n\t/**\n\t * Remove items from the Store based on a query.\n\t *\n\t * @param {ItemQuery} query Query matching the items to remove\n\t * @param {function(ItemList)|function()} [callback] Called when records matching query are removed\n\t */\n\tremove(query, callback) {\n\t\tlet k;\n\n\t\tconst todos = this.getLocalStorage().filter(todo => {\n\t\t\tfor (k in query) {\n\t\t\t\tif (query[k] !== todo[k]) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\n\t\tthis.setLocalStorage(todos);\n\n\t\tif (callback) {\n\t\t\tcallback(todos);\n\t\t}\n\t}\n\n\t/**\n\t * Count total, active, and completed todos.\n\t *\n\t * @param {function(number, number, number)} callback Called when the count is completed\n\t */\n\tcount(callback) {\n\t\tthis.find(emptyItemQuery, data => {\n\t\t\tconst total = data.length;\n\n\t\t\tlet i = total;\n\t\t\tlet completed = 0;\n\n\t\t\twhile (i--) {\n\t\t\t\tcompleted += data[i].completed;\n\t\t\t}\n\t\t\tcallback(total, total - completed, completed);\n\t\t});\n\t}\n}\n","import {ItemList} from './item';\nimport {qs, $on, $delegate} from './helpers';\nimport Template from './template';\n\nconst _itemId = element => parseInt(element.parentNode.dataset.id || element.parentNode.parentNode.dataset.id, 10);\nconst ENTER_KEY = 13;\nconst ESCAPE_KEY = 27;\n\nexport default class View {\n\t/**\n\t * @param {!Template} template A Template instance\n\t */\n\tconstructor(template) {\n\t\tthis.template = template;\n\t\tthis.$todoList = qs('.todo-list');\n\t\tthis.$todoItemCounter = qs('.todo-count');\n\t\tthis.$clearCompleted = qs('.clear-completed');\n\t\tthis.$main = qs('.main');\n\t\tthis.$toggleAll = qs('.toggle-all');\n\t\tthis.$newTodo = qs('.new-todo');\n\t\t$delegate(this.$todoList, 'li label', 'dblclick', ({target}) => {\n\t\t\tthis.editItem(target);\n\t\t});\n\t}\n\n\n\t/**\n\t * Put an item into edit mode.\n\t *\n\t * @param {!Element} target Target Item's label Element\n\t */\n\teditItem(target) {\n\t\tconst listItem = target.parentElement.parentElement;\n\n\t\tlistItem.classList.add('editing');\n\n\t\tconst input = document.createElement('input');\n\t\tinput.className = 'edit';\n\n\t\tinput.value = target.innerText;\n\t\tlistItem.appendChild(input);\n\t\tinput.focus();\n\t}\n\n\t/**\n\t * Populate the todo list with a list of items.\n\t *\n\t * @param {ItemList} items Array of items to display\n\t */\n\tshowItems(items) {\n\t\tthis.$todoList.innerHTML = this.template.itemList(items);\n\t}\n\n\t/**\n\t * Remove an item from the view.\n\t *\n\t * @param {number} id Item ID of the item to remove\n\t */\n\tremoveItem(id) {\n\t\tconst elem = qs(`[data-id=\"${id}\"]`);\n\n\t\tif (elem) {\n\t\t\tthis.$todoList.removeChild(elem);\n\t\t}\n\t}\n\n\t/**\n\t * Set the number in the 'items left' display.\n\t *\n\t * @param {number} itemsLeft Number of items left\n\t */\n\tsetItemsLeft(itemsLeft) {\n\t\tthis.$todoItemCounter.innerHTML = this.template.itemCounter(itemsLeft);\n\t}\n\n\t/**\n\t * Set the visibility of the \"Clear completed\" button.\n\t *\n\t * @param {boolean|number} visible Desired visibility of the button\n\t */\n\tsetClearCompletedButtonVisibility(visible) {\n\t\tthis.$clearCompleted.style.display = !!visible ? 'block' : 'none';\n\t}\n\n\t/**\n\t * Set the visibility of the main content and footer.\n\t *\n\t * @param {boolean|number} visible Desired visibility\n\t */\n\tsetMainVisibility(visible) {\n\t\tthis.$main.style.display = !!visible ? 'block' : 'none';\n\t}\n\n\t/**\n\t * Set the checked state of the Complete All checkbox.\n\t *\n\t * @param {boolean|number} checked The desired checked state\n\t */\n\tsetCompleteAllCheckbox(checked) {\n\t\tthis.$toggleAll.checked = !!checked;\n\t}\n\n\t/**\n\t * Change the appearance of the filter buttons based on the route.\n\t *\n\t * @param {string} route The current route\n\t */\n\tupdateFilterButtons(route) {\n\t\tqs('.filters .selected').className = '';\n\t\tqs(`.filters [href=\"#/${route}\"]`).className = 'selected';\n\t}\n\n\t/**\n\t * Clear the new todo input\n\t */\n\tclearNewTodo() {\n\t\tthis.$newTodo.value = '';\n\t}\n\n\t/**\n\t * Render an item as either completed or not.\n\t *\n\t * @param {!number} id Item ID\n\t * @param {!boolean} completed True if the item is completed\n\t */\n\tsetItemComplete(id, completed) {\n\t\tconst listItem = qs(`[data-id=\"${id}\"]`);\n\n\t\tif (!listItem) {\n\t\t\treturn;\n\t\t}\n\n\t\tlistItem.className = completed ? 'completed' : '';\n\n\t\t// In case it was toggled from an event and not by clicking the checkbox\n\t\tqs('input', listItem).checked = completed;\n\t}\n\n\t/**\n\t * Bring an item out of edit mode.\n\t *\n\t * @param {!number} id Item ID of the item in edit\n\t * @param {!string} title New title for the item in edit\n\t */\n\teditItemDone(id, title) {\n\t\tconst listItem = qs(`[data-id=\"${id}\"]`);\n\n\t\tconst input = qs('input.edit', listItem);\n\t\tlistItem.removeChild(input);\n\n\t\tlistItem.classList.remove('editing');\n\n\t\tqs('label', listItem).textContent = title;\n\t}\n\n\t/**\n\t * @param {Function} handler Function called on synthetic event.\n\t */\n\tbindAddItem(handler) {\n\t\t$on(this.$newTodo, 'change', ({target}) => {\n\t\t\tconst title = target.value.trim();\n\t\t\tif (title) {\n\t\t\t\thandler(title);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * @param {Function} handler Function called on synthetic event.\n\t */\n\tbindRemoveCompleted(handler) {\n\t\t$on(this.$clearCompleted, 'click', handler);\n\t}\n\n\t/**\n\t * @param {Function} handler Function called on synthetic event.\n\t */\n\tbindToggleAll(handler) {\n\t\t$on(this.$toggleAll, 'click', ({target}) => {\n\t\t\thandler(target.checked);\n\t\t});\n\t}\n\n\t/**\n\t * @param {Function} handler Function called on synthetic event.\n\t */\n\tbindRemoveItem(handler) {\n\t\t$delegate(this.$todoList, '.destroy', 'click', ({target}) => {\n\t\t\thandler(_itemId(target));\n\t\t});\n\t}\n\n\t/**\n\t * @param {Function} handler Function called on synthetic event.\n\t */\n\tbindToggleItem(handler) {\n\t\t$delegate(this.$todoList, '.toggle', 'click', ({target}) => {\n\t\t\thandler(_itemId(target), target.checked);\n\t\t});\n\t}\n\n\t/**\n\t * @param {Function} handler Function called on synthetic event.\n\t */\n\tbindEditItemSave(handler) {\n\t\t$delegate(this.$todoList, 'li .edit', 'blur', ({target}) => {\n\t\t\tif (!target.dataset.iscanceled) {\n\t\t\t\thandler(_itemId(target), target.value.trim());\n\t\t\t}\n\t\t}, true);\n\n\t\t// Remove the cursor from the input when you hit enter just like if it were a real form\n\t\t$delegate(this.$todoList, 'li .edit', 'keypress', ({target, keyCode}) => {\n\t\t\tif (keyCode === ENTER_KEY) {\n\t\t\t\ttarget.blur();\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * @param {Function} handler Function called on synthetic event.\n\t */\n\tbindEditItemCancel(handler) {\n\t\t$delegate(this.$todoList, 'li .edit', 'keyup', ({target, keyCode}) => {\n\t\t\tif (keyCode === ESCAPE_KEY) {\n\t\t\t\ttarget.dataset.iscanceled = true;\n\t\t\t\ttarget.blur();\n\n\t\t\t\thandler(_itemId(target));\n\t\t\t}\n\t\t});\n\t}\n}\n","/**\n * querySelector wrapper\n *\n * @param {string} selector Selector to query\n * @param {Element} [scope] Optional scope element for the selector\n */\nexport function qs(selector, scope) {\n\treturn (scope || document).querySelector(selector);\n}\n\n/**\n * addEventListener wrapper\n *\n * @param {Element|Window} target Target Element\n * @param {string} type Event name to bind to\n * @param {Function} callback Event callback\n * @param {boolean} [capture] Capture the event\n */\nexport function $on(target, type, callback, capture) {\n\ttarget.addEventListener(type, callback, !!capture);\n}\n\n/**\n * Attach a handler to an event for all elements matching a selector.\n *\n * @param {Element} target Element which the event must bubble to\n * @param {string} selector Selector to match\n * @param {string} type Event name\n * @param {Function} handler Function called when the event bubbles to target\n *                           from an element matching selector\n * @param {boolean} [capture] Capture the event\n */\nexport function $delegate(target, selector, type, handler, capture) {\n\tconst dispatchEvent = event => {\n\t\tconst targetElement = event.target;\n\t\tconst potentialElements = target.querySelectorAll(selector);\n\t\tlet i = potentialElements.length;\n\n\t\twhile (i--) {\n\t\t\tif (potentialElements[i] === targetElement) {\n\t\t\t\thandler.call(targetElement, event);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t};\n\n\t$on(target, type, dispatchEvent, !!capture);\n}\n\n/**\n * Encode less-than and ampersand characters with entity codes to make user-\n * provided text safe to parse as HTML.\n *\n * @param {string} s String to escape\n *\n * @returns {string} String with unsafe characters escaped with entity codes\n */\nexport const escapeForHTML = s => s.replace(/[&<]/g, c => c === '&' ? '&amp;' : '&lt;');\n","import {ItemList} from './item';\n\nimport {escapeForHTML} from './helpers';\n\nexport default class Template {\n\t/**\n\t * Format the contents of a todo list.\n\t *\n\t * @param {ItemList} items Object containing keys you want to find in the template to replace.\n\t * @returns {!string} Contents for a todo list\n\t *\n\t * @example\n\t * view.show({\n\t *\tid: 1,\n\t *\ttitle: \"Hello World\",\n\t *\tcompleted: false,\n\t * })\n\t */\n\titemList(items) {\n\t\treturn items.reduce((a, item) => a + `\n<li data-id=\"${item.id}\"${item.completed ? ' class=\"completed\"' : ''}>\n\t<div class=\"view\">\n\t\t<input class=\"toggle\" type=\"checkbox\" ${item.completed ? 'checked' : ''}>\n\t\t<label>${escapeForHTML(item.title)}</label>\n\t\t<button class=\"destroy\"></button>\n\t</div>\n</li>`, '');\n\t}\n\n\t/**\n\t * Format the contents of an \"items left\" indicator.\n\t *\n\t * @param {number} activeTodos Number of active todos\n\t *\n\t * @returns {!string} Contents for an \"items left\" indicator\n\t */\n\titemCounter(activeTodos) {\n\t\treturn `${activeTodos} item${activeTodos !== 1 ? 's' : ''} left`;\n\t}\n}\n"],"sourceRoot":""}