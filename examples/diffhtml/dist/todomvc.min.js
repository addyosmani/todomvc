!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(0,function(){"use strict";function e(t,n,o){for(var r=arguments,a=arguments.length,i=Array(a>3?a-3:0),l=3;l<a;l++)i[l-3]=r[l];if(!t)return null;if(ve(t)){o=[];for(var u=0;u<t.length;u++){var c=e(t[u]);if(c){var s=11===c.nodeType;if("string"==typeof c.rawNodeName&&s){var d;(d=o).push.apply(d,he(c.childNodes))}else o.push(c)}}return e(ge,null,o)}var f="object"===(void 0===t?"undefined":le(t));if(t&&f&&"parentNode"in t){if(n={},o=[],3===t.nodeType)o=t.nodeValue;else if(1===t.nodeType&&t.attributes.length){n={};for(var h=0;h<t.attributes.length;h++){var p=t.attributes[h],v=p.name,g=p.value;""===g&&v in t?n[v]=t[v]:n[v]=g}}if((1===t.nodeType||11===t.nodeType)&&t.childNodes.length){o=[];for(var y=0;y<t.childNodes.length;y++)o.push(e(t.childNodes[y]))}var m=e(t.nodeName,n,o);return X.set(m,t),m}if(f)return t;i.length&&(o=[o].concat(i));var b=ie.get(),T="#text"===t,N="string"==typeof t;if(b.key="",b.rawNodeName=t,b.nodeName=N?t.toLowerCase():"#document-fragment",b.childNodes.length=0,b.nodeValue="",b.attributes={},T){var E=2===arguments.length?n:o,x=ve(E)?E.join(""):E;return b.nodeType=3,b.nodeValue=String(x||""),b}b.nodeType=t===ge||"string"!=typeof t?11:"#comment"===t?8:1;var w=ve(n)||"object"!==(void 0===n?"undefined":le(n))?n:o,k=ve(w)?w:[w];if(w&&k.length)for(var C=0;C<k.length;C++){var O=k[C];if(Array.isArray(O))for(var S=0;S<O.length;S++)b.childNodes.push(O[S]);else if(11===O.nodeType&&"string"==typeof O.rawNodeName)for(var R=0;R<O.childNodes.length;R++)b.childNodes.push(O.childNodes[R]);else O&&"object"===(void 0===O?"undefined":le(O))?b.childNodes.push(O):O&&b.childNodes.push(e("#text",null,O))}n&&"object"===(void 0===n?"undefined":le(n))&&!ve(n)&&(b.attributes=n),"script"===b.nodeName&&b.attributes.src&&(b.key=String(b.attributes.src)),b.attributes&&"key"in b.attributes&&(b.key=String(b.attributes.key));var _=b;return pe.forEach(function(e,t){(t=e(_))&&(_=t)}),_}function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,o=arguments[2],r=X.get(e);if(r)return r;var a=e.nodeName,i=e.childNodes,l=void 0===i?[]:i;o=o||"svg"===a;var u=null;me.forEach(function(t,n){(n=t(e))&&(u=n)}),u||(u="#text"===a?n.createTextNode(e.nodeValue):"#document-fragment"===a?n.createDocumentFragment():o?n.createElementNS(be,a):n.createElement(a)),X.set(e,u);for(var c=0;c<l.length;c++)u.appendChild(t(l[c],n,o));return u}function n(e){return Te&&e&&e.indexOf&&e.includes("&")?(Te.innerHTML=e,Te.textContent):e}function o(e){return e.replace(/[&<>]/g,function(e){return"&#"+e.charCodeAt(0)+";"})}function r(e){Oe(e);for(var t=0;t<e.childNodes.length;t++)r(e.childNodes[t]);return e}function a(e){Se(e);for(var t=0;t<e.childNodes.length;t++)a(e.childNodes[t]);return e}function i(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Q.forEach(function(t){return e=t.isRendering||e}),Ce.allocated.forEach(function(e){return Ce.free.add(e)}),Ce.allocated.clear(),X.forEach(function(e,t){Ce.protected.has(t)||X.delete(t)})}function l(e){var t=e.state;if(t.isRendering){t.nextTransaction&&t.nextTransaction.promises[0].resolve(t.nextTransaction),t.nextTransaction=e;var n={},o=new Promise(function(e){return n.resolve=e});return o.resolve=n.resolve,e.promises=[o],e.abort()}t.isRendering=!0}function u(e){var t=e.markup,n=e.state,o=e.state.measure;if(o("should update"),"string"==typeof t&&n.markup===t)return e.abort();"string"==typeof t&&(n.markup=t),o("should update")}function c(t){var n=t.state,o=t.domNode,i=t.markup,l=t.options,u=n.previousMarkup,c=l.inner;if(u===o.outerHTML&&n.oldTree||(n.oldTree&&a(n.oldTree),n.oldTree=e(o),X.set(n.oldTree,o),r(n.oldTree)),t.oldTree=n.oldTree,t.newTree||(t.newTree=e(i)),c){var s=t.oldTree,d=t.newTree,f=(s.rawNodeName,s.nodeName),h=s.attributes,p="string"!=typeof d.rawNodeName,v=11===d.nodeType&&!p?d.childNodes:d;t.newTree=e(f,h,v)}}function s(e,t,n){var o=arguments;e||(e=Ae),t||(t=Ae);e.nodeName,t.nodeName,t.nodeType;for(var r=e===Ae,a={old:new Map,new:new Map},i=0;i<Ie.length;i++){var l=Ie[i],u=a[l],c=o[i],d=c&&c.childNodes;if(d&&d.length)for(var f=0;f<d.length;f++){var h=d[f];h.key&&u.set(h.key,h)}}je.forEach(function(o,i){(i=o(e,t,null))&&i!==t&&(t=i,s(null,i,n));for(var l=0;l<t.childNodes.length;l++)(i=o(r?Ae:e.childNodes[l],t.childNodes[l],a))&&(t.childNodes[l]=i)});var p=n=n||{SET_ATTRIBUTE:[],REMOVE_ATTRIBUTE:[],TREE_OPS:[],NODE_VALUE:[]},v=p.SET_ATTRIBUTE,g=p.REMOVE_ATTRIBUTE,y=p.TREE_OPS,m=p.NODE_VALUE,b={INSERT_BEFORE:[],REMOVE_CHILD:[],REPLACE_CHILD:[]},T=b.INSERT_BEFORE,N=b.REMOVE_CHILD,E=b.REPLACE_CHILD,x=1===t.nodeType;if("#text"===t.nodeName)return"#text"!==e.nodeName?m.push(t,t.nodeValue,null):r||e.nodeValue===t.nodeValue||(m.push(e,t.nodeValue,e.nodeValue),e.nodeValue=t.nodeValue),n;if(x){var w=r?Ae:e.attributes,k=t.attributes;for(var C in k){var O=k[C];C in w&&w[C]===k[C]||(r||(w[C]=O),v.push(r?t:e,C,O))}if(!r)for(var S in w)S in k||(g.push(e,S),delete w[S])}var R=t.childNodes;if(r){for(var _=0;_<R.length;_++)s(null,R[_],n);return n}var j=e.childNodes;if(a.old.size||a.new.size){a.old.values();for(var A=0;A<R.length;A++){var I=j[A],M=R[A],D=M.key;if(I){var L=I.key,H=a.new.has(L),P=a.old.has(D);if(H||P)if(H)if(D===L)I.nodeName===M.nodeName?s(I,M,n):(E.push(M,I),e.childNodes[A]=M,s(null,M,n));else{var V=M;D&&P?(V=a.old.get(D),j.splice(j.indexOf(V),1)):D&&(V=M,s(null,M,n)),T.push(e,V,I),j.splice(A,0,V)}else N.push(I),j.splice(j.indexOf(I),1),A-=1;else E.push(M,I),j.splice(j.indexOf(I),1,M),s(null,M,n)}else T.push(e,M,null),j.push(M),s(null,M,n)}}else for(var U=0;U<R.length;U++){var B=j&&j[U],F=R[U];B?B.nodeName===F.nodeName?s(B,F,n):(E.push(F,B),e.childNodes[U]=F,s(null,F,n)):(T.push(e,F,null),j&&j.push(F),s(null,F,n))}if(r)return n;if(j.length!==R.length){for(var z=R.length;z<j.length;z++)N.push(j[z]);j.length=R.length}return(T.length||N.length||E.length)&&(T.length||(b.INSERT_BEFORE=null),N.length||(b.REMOVE_CHILD=null),E.length||(b.REPLACE_CHILD=null),y.push(b)),n}function d(e){var n=e.state.measure,o=e.oldTree,i=e.newTree;e.domNode;n("sync trees"),o.nodeName!==i.nodeName&&11!==i.nodeType?(e.patches={TREE_OPS:[{REPLACE_CHILD:[i,o]}],SET_ATTRIBUTE:[],REMOVE_ATTRIBUTE:[],NODE_VALUE:[]},a(e.oldTree),e.oldTree=e.state.oldTree=i,r(e.oldTree),Q.set(t(i),e.state)):e.patches=s(o,i),n("sync trees")}function f(e,t){Y.get(e).add(t)}function h(e,t){if(!t&&e)Y.get(e).clear();else if(e&&t)Y.get(e).delete(t);else for(var n=0;n<Me.length;n++)Y.get(Me[n]).clear()}function p(e){for(var t=arguments,n=arguments.length,o=Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=t[r];var a=Y.get(e),i=[];if(!a.size)return i;if("textChanged"!==e&&3===o[0].nodeType)return i;if(a.forEach(function(e){var t=e.apply(void 0,o);"object"===(void 0===t?"undefined":le(t))&&t.then&&i.push(t)}),"attached"===e||"detached"===e){var l=o[0];[].concat(he(l.childNodes)).forEach(function(t){i.push.apply(i,he(p.apply(void 0,[e,t].concat(he(o.slice(1))))))})}return i}function v(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=[],u=e.TREE_OPS,c=e.NODE_VALUE,s=e.SET_ATTRIBUTE,d=e.REMOVE_ATTRIBUTE,f=i.isSVG,h=i.ownerDocument;if(s.length)for(var v=0;v<s.length;v+=3){var g=s[v],y=s[v+1],m=n(s[v+2]),b=t(g,h,f),T=p("attributeChanged",b,y,b.getAttribute(y),m),N="object"===(void 0===m?"undefined":le(m)),E="function"==typeof m,x=0===y.indexOf("on")?y.toLowerCase():y;if(N||E||!x){if(N&&"style"===x)for(var w=Object.keys(m),k=0;k<w.length;k++)b.style[w[k]]=m[w[k]];else if("string"!=typeof m){b.hasAttribute(x)&&b[x]!==m&&b.removeAttribute(x,""),b.setAttribute(x,"");try{b[x]=m}catch(e){}}}else{var C=null===m||void 0===m,O=g.nodeName+"-"+x;if(!He.has(O))try{b[x]=m}catch(e){He.add(O)}b.setAttribute(x,C?"":m)}T.length&&l.push.apply(l,he(T))}if(d.length)for(var S=0;S<d.length;S+=2)!function(e){var t=d[e],n=d[e+1],o=X.get(t),r=(Y.get("attributeChanged"),o.getAttribute(n)),a=p("attributeChanged",o,n,r,null);a.length?(Promise.all(a).then(function(){return Le(o,n)}),l.push.apply(l,he(a))):Le(o,n)}(S);for(var R=0;R<u.length;R++){var _=u[R],j=_.INSERT_BEFORE,A=_.REMOVE_CHILD,I=_.REPLACE_CHILD;if(j&&j.length)for(var M=0;M<j.length;M+=3){var D=j[M],L=j[M+1],H=j[M+2],P=X.get(D),V=H&&t(H,h,f);Y.get("attached");H&&r(H);var U=t(L,h,f);r(L),P.insertBefore(U,V);var B=p("attached",U);l.push.apply(l,he(B))}if(A&&A.length)for(var F=0;F<A.length;F++)!function(e){var t=A[e],n=X.get(t),o=(Y.get("detached"),p("detached",n));o.length?(Promise.all(o).then(function(){n.parentNode.removeChild(n),a(t)}),l.push.apply(l,he(o))):(n.parentNode.removeChild(n),a(t))}(F);if(I&&I.length)for(var z=0;z<I.length;z+=2)!function(e){var n=I[e],o=I[e+1],i=X.get(o),u=t(n,h,f);Y.get("attached"),Y.get("detached"),Y.get("replaced");i.parentNode.insertBefore(u,i),r(n);var c=p("attached",u),s=p("detached",i),d=p("replaced",i,u),v=[].concat(he(c),he(s),he(d));v.length?(Promise.all(v).then(function(){i.parentNode.replaceChild(u,i),a(o)}),l.push.apply(l,he(v))):(i.parentNode.replaceChild(u,i),a(o))}(z)}if(c.length)for(var G=0;G<c.length;G+=3){var W=c[G],q=c[G+1],K=c[G+2],J=X.get(W),Q=(Y.get("textChanged"),p("textChanged",J,K,q)),Z=J.parentNode;q.includes("&")?J.nodeValue=n(q):J.nodeValue=q,Z&&De.has(Z.nodeName.toLowerCase())&&(Z.nodeValue=o(n(q))),Q.length&&l.push.apply(l,he(Q))}return l}function g(e){var t=e.domNode,n=e.state,o=e.state.measure,r=e.patches,a=e.promises,i=void 0===a?[]:a,l=t.namespaceURI,u=void 0===l?"":l,c=t.nodeName;n.isSVG="svg"===c.toLowerCase()||u.includes("svg"),n.ownerDocument=t.ownerDocument||document,o("patch node"),i.push.apply(i,he(v(r,n))),o("patch node"),e.promises=i}function y(e){var t=e.promises,n=void 0===t?[]:t;return n.length?Promise.all(n).then(function(){return e.end()}):Promise.resolve(e.end())}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.inner=!0,n.tasks=n.tasks||Pe,Ue.create(e,t,n).start()}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.inner=!1,n.tasks=n.tasks||Pe,Ue.create(e,t,n).start()}function T(e){var t=Q.get(e);t&&t.oldTree&&a(t.oldTree),Q.delete(e),i()}function N(e){var t=e.subscribe,n=e.unsubscribe,o=e.createTreeHook,r=e.createNodeHook,a=e.syncTreeHook;return Z.add(e),t&&e.subscribe(),o&&Be.add(o),r&&Fe.add(r),a&&ze.add(a),function(){Z.delete(e),n&&n(),Be.delete(o),Fe.delete(r),ze.delete(a)}}function E(e,t){"function"==typeof e?e(t):"string"==typeof e&&this[e](t)}function x(e){e.attributes.ref&&E(e.attributes.ref,Je.get(e)),e.childNodes.forEach(x)}function w(e){Ke.has(e)&&Ke.get(e).componentDidMount();var t=Ke.get(e);x(e),t&&E(t.props.ref,t)}function k(e){Ke.has(e)&&Ke.get(e).componentDidUnmount();var t=Ke.get(e);x(e),t&&E(t.props.ref,null)}function C(e){return e.onceEnded(function(){if(!e.aborted){var t=e.patches;t.TREE_OPS&&t.TREE_OPS.length&&t.TREE_OPS.forEach(function(e){var t=e.INSERT_BEFORE,n=e.REPLACE_CHILD,o=e.REMOVE_CHILD;if(t)for(var r=0;r<t.length;r+=3)w(t[r+1]);if(n)for(var a=0;a<n.length;a+=2)w(n[a]);if(o)for(var i=0;i<o.length;i+=1)k(o[i])})}})}function O(e){var t=this;this.state=et({},this.state,e),!$e.has(this)&&this.shouldComponentUpdate()&&(this[Ze](),$e.set(this,setTimeout(function(){$e.delete(t),t.shouldComponentUpdate()&&t[Ze]()})))}function S(){this[Ze]()}function R(e){var t=ft.call(e,pt),n=e[pt];try{e[pt]=void 0;var o=!0}catch(e){}var r=ht.call(e);return o&&(t?e[pt]=n:delete e[pt]),r}function _(e){return vt.call(e)}function j(e){return null==e?void 0===e?yt:gt:mt&&mt in Object(e)?R(e):_(e)}function A(e){return null!=e&&"object"==(void 0===e?"undefined":le(e))}function I(e){if(!A(e)||j(e)!=Tt)return!1;var t=bt(e);if(null===t)return!0;var n=wt.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&xt.call(n)==kt}function M(e,t,n){function o(){h===f&&(h=f.slice())}function r(){return d}function a(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return o(),h.push(e),function(){if(t){t=!1,o();var n=h.indexOf(e);h.splice(n,1)}}}function i(e){if(!I(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,d=s(d,e)}finally{p=!1}for(var t=f=h,n=0;n<t.length;n++)t[n]();return e}function l(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");s=e,i({type:Ot.INIT})}function u(){var e,t=a;return e={subscribe:function(e){function n(){e.next&&e.next(r())}if("object"!==(void 0===e?"undefined":le(e)))throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}},e[Ct]=function(){return this},e}var c;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(M)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var s=e,d=t,f=[],h=f,p=!1;return i({type:Ot.INIT}),c={dispatch:i,subscribe:a,getState:r,replaceReducer:l},c[Ct]=u,c}function D(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function L(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:Ot.INIT}))throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+Ot.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.')})}function H(){for(var e=arguments,t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=e[o];if(0===n.length)return function(e){return e};if(1===n.length)return n[0];var r=n[n.length-1],a=n.slice(0,-1);return function(){return a.reduceRight(function(e,t){return t(e)},r.apply(void 0,arguments))}}function P(e){return{type:Rt,title:e}}function V(e){return{type:_t,key:e}}function U(e,t){return{type:jt,key:e,completed:t}}function B(e){return{type:At,key:e}}function F(e,t){return{type:It,key:e,title:t}}function z(){return{type:Mt}}function G(e){return{type:Dt,completed:e}}function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments[1];switch(t.type){case Rt:return t.title?Lt({},e,{todos:e.todos.concat({completed:!1,editing:!1,title:t.title.trim(),key:Ht()})}):e;case _t:return Lt({},e,{todos:e.todos.filter(function(e){return e.key!==t.key})});case jt:var n=e.todos.findIndex(function(e){return e.key===t.key}),o=e.todos[n];return e.todos[n]=Lt({},o,{completed:t.completed}),Lt({},e,{todos:[].concat(he(e.todos))});case At:var r=e.todos.findIndex(function(e){return e.key===t.key}),a=e.todos[r];return e.todos[r]=Lt({},a,{editing:!0}),Lt({},e,{todos:[].concat(he(e.todos))});case It:var i=e.todos.findIndex(function(e){return e.key===t.key}),l=e.todos[i];return e.todos[i]=Lt({},l,{title:t.title,editing:!1}),Lt({},e,{todos:[].concat(he(e.todos))});case Mt:return Lt({},e,{todos:e.todos.filter(function(e){return!1===e.completed})});case Dt:return Lt({},e,{todos:e.todos.map(function(e){return Lt({},e,{completed:t.completed})})});default:return e}}function q(e){var t=e.slice(1)||"/";return{type:Vt,path:t}}function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments[1];switch(t.type){case Vt:return Ut({},e,{path:t.path});default:return e}}function J(t){var n=e("#text",null,"\n\t\t\t"),o=e("#text",null,"\n\t\t\t\t"),r=e("#text",null,"\n\t\t\t\t"),a=e("#text",null,"\n\t\t\t\t"),i=e("#text",null,"\n\t\t\t"),l=e("#text",null,"\n\n\t\t\t"),u=e("#text",null,"\n\t\t\t\t"),c=e("#text",null,"\n\t\t\t"),s=e("#text",null,"\n\t\t");return t.todos.map(function(d){return e("li",{key:d.key,class:t.getTodoClassNames(d)},[n,e("div",{class:"view"},[o,e("input",se({onclick:zt,class:"toggle",type:"checkbox"},d.completed&&"checked",d.completed&&"checked"),[]),r,e("label",{},[d.title]),a,e("button",{class:"destroy"},[]),i]),l,e("form",{class:"edit-todo"},[u,e("input",{onblur:t.stopEditing,value:d.title,class:"edit"},[]),c]),s])})}var Q=new Map,X=new Map,Y=new Map,Z=new Set;Z.CreateTreeHookCache=new Set,Z.CreateNodeHookCache=new Set,Z.SyncTreeHookCache=new Set;for(var $=Object.freeze({StateCache:Q,NodeCache:X,TransitionCache:Y,MiddlewareCache:Z}),ee=new Set,te=new Set,ne=new Set,oe={free:ee,allocated:te,protected:ne},re=0;re<1e4;re++)ee.add({rawNodeName:"",nodeName:"",nodeValue:"",nodeType:1,key:"",childNodes:[],attributes:{}});var ae=ee.values(),ie={size:1e4,memory:oe,get:function(){var e=ae.next(),t=e.value,n=void 0===t?{rawNodeName:"",nodeName:"",nodeValue:"",nodeType:1,key:"",childNodes:[],attributes:{}}:t;return e.done&&(ae=ee.values()),ee.delete(n),te.add(n),n},protect:function(e){te.delete(e),ne.add(e)},unprotect:function(e){ne.has(e)&&(ne.delete(e),ee.add(e))}},le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ce=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),se=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},de=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},fe=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},he=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},pe=Z.CreateTreeHookCache,ve=Array.isArray,ge="#document-fragment",ye="undefined"!=typeof process?process:{env:{NODE_ENV:"development"}},me=Z.CreateNodeHookCache,be="http://www.w3.org/2000/svg",Te=("object"===("undefined"==typeof global?"undefined":le(global))?global:window).document?document.createElement("div"):null,Ne=new Map,Ee="undefined"!=typeof location,xe="undefined"!=typeof process&&process.argv,we=function(){},ke=function(e,t){var n=Ee&&location.search.includes("diff_perf"),o=xe&&process.argv.includes("diff_perf");return n||o?function(n){e&&e.host?n=e.host.constructor.name+" "+n:"function"==typeof t.rawNodeName&&(n=t.rawNodeName.name+" "+n);var o=n+"-end";if(Ne.has(n)){var r=(performance.now()-Ne.get(n)).toFixed(3);Ne.delete(n),performance.mark(o),performance.measure("diffHTML "+n+" ("+r+"ms)",n,o)}else Ne.set(n,performance.now()),performance.mark(n)}:we},Ce=ie.memory,Oe=ie.protect,Se=ie.unprotect,Re=Object.freeze({protectVTree:r,unprotectVTree:a,cleanMemory:i}),_e=Object.assign({decodeEntities:n,escape:o,makeMeasure:ke,memory:Re,Pool:ie,process:ye},$),je=Z.SyncTreeHookCache,Ae={},Ie=["old","new"],Me=["attached","detached","replaced","attributeChanged","textChanged"];Me.forEach(function(e){return Y.set(e,new Set)});var De=new Set(["script","noscript","style","code","template"]),Le=function(e,t){e.removeAttribute(t),t in e&&(e[t]=void 0)},He=new Set,Pe=[l,u,c,d,g,y],Ve={schedule:l,shouldUpdate:u,reconcileTrees:c,syncTrees:d,patchNode:g,endAsPromise:y},Ue=function(){function e(t,n,o){ue(this,e),this.domNode=t,this.markup=n,this.options=o,this.state=Q.get(t)||{measure:ke(t,n)},this.tasks=[].concat(o.tasks),this.endedCallbacks=new Set,Q.set(t,this.state)}return ce(e,null,[{key:"create",value:function(t,n,o){return new e(t,n,o)}},{key:"renderNext",value:function(t){if(t.nextTransaction){var n=t.nextTransaction,o=t.nextTransaction.promises,r=o&&o[0];t.nextTransaction=void 0,n.aborted=!1,n.tasks.pop(),e.flow(n,n.tasks),o&&o.length>1?Promise.all(o.slice(1)).then(function(){return r.resolve()}):r&&r.resolve()}}},{key:"flow",value:function(e,t){for(var n=e,o=0;o<t.length;o++){if(e.aborted)return n;if(void 0!==(n=t[o](e))&&n!==e)return n}}},{key:"assert",value:function(e){}},{key:"invokeMiddleware",value:function(e){var t=e.tasks;Z.forEach(function(n){var o=n(e);o&&t.push(o)})}}]),ce(e,[{key:"start",value:function(){this.domNode;var t=this.state.measure,n=this.tasks,o=n.pop();return this.aborted=!1,e.invokeMiddleware(this),t("render"),n.push(o),e.flow(this,n)}},{key:"abort",value:function(){this.state;return this.aborted=!0,this.tasks[this.tasks.length-1](this)}},{key:"end",value:function(){var t=this,n=this.state,o=this.domNode,r=this.options,a=n.measure;r.inner;return a("finalize"),this.completed=!0,a("finalize"),a("render"),this.endedCallbacks.forEach(function(e){return e(t)}),this.endedCallbacks.clear(),n.previousMarkup=o.outerHTML,n.isRendering=!1,i(),e.renderNext(n),this}},{key:"onceEnded",value:function(e){this.endedCallbacks.add(e)}}]),e}(),Be=Z.CreateTreeHookCache,Fe=Z.CreateNodeHookCache,ze=Z.SyncTreeHookCache,Ge={VERSION:"1.0.0-beta-runtime",addTransitionState:f,removeTransitionState:h,release:T,createTree:e,use:N,outerHTML:b,innerHTML:m,html:e,defaultTasks:Pe},We=Object.assign(_e,Ge,{defaultTasks:Pe,tasks:Ve,createNode:t});Ge.Internals=We,"function"==typeof devTools&&(N(devTools(We)),console.info("diffHTML DevTools Found and Activated...")),("undefined"!=typeof window?window:global).process=We.process;var qe=new WeakMap,Ke=new WeakMap,Je=We.NodeCache,Qe=Object.assign;C.syncTreeHook=function(t,n){for(var o=t&&t.childNodes,r=0;r<n.childNodes.length;r++){var a=n.childNodes[r];if(a&&"function"==typeof a.rawNodeName){var i=a.rawNodeName,l=o&&o[r],u=Ke.get(l),c=a.childNodes,s=Qe({},a.attributes,{children:c}),d=i.prototype,f=l&&u instanceof i&&u,h=!f&&d&&new i(s),p=f||h,v=null;if(f?(f.componentWillReceiveProps(s),f.shouldComponentUpdate()&&(v=f.render(s,f.state))):v=e(p&&p.render?p.render(s,p.state):i(s)),!v)continue;11===v.nodeType?(n.childNodes=[].concat(v.childNodes),p&&(qe.set(p,t),Ke.set(t,p))):(n.childNodes[r]=v,p&&(qe.set(p,v),Ke.set(v,p)))}}return n};var Xe,Ye={shouldComponentUpdate:function(){return!0},componentWillReceiveProps:function(){},componentWillMount:function(){},componentDidMount:function(){},componentDidUpdate:function(){},componentWillUnmount:function(){},componentDidUnmount:function(){}},Ze=Symbol("diff.render"),$e=new WeakMap,et=Object.assign,tt=Object.assign,nt=We.NodeCache,ot=Object.keys,rt=Object.assign,at=function(){return N(C)},it=at(),lt=function(e){return tt(e.prototype,Ye,{forceUpdate:S,setState:O}),e}(function(){function e(e){var t=this.props=rt({},e),n=(this.state={},this.context={},this.constructor),o=n.defaultProps;void 0===o&&(o={});var r=n.propTypes;void 0===r&&(r={});var a=n.childContextTypes;void 0===a&&(a={});var i=n.contextTypes;void 0===i&&(i={});n.name;ot(o).forEach(function(e){e in t&&void 0!==t[e]||(t[e]=o[e])})}return e.subscribeMiddleware=function(){return at()},e.unsubscribeMiddleware=function(){return it(),at},e.prototype[Ze]=function(){var e=this,t=qe.get(this);b(nt.get(t),this.render()).then(function(){e.componentDidUpdate()})},e}()),ut="object"==("undefined"==typeof global?"undefined":le(global))&&global&&global.Object===Object&&global,ct="object"==("undefined"==typeof self?"undefined":le(self))&&self&&self.Object===Object&&self,st=(ut||ct||Function("return this")()).Symbol,dt=Object.prototype,ft=dt.hasOwnProperty,ht=dt.toString,pt=st?st.toStringTag:void 0,vt=Object.prototype.toString,gt="[object Null]",yt="[object Undefined]",mt=st?st.toStringTag:void 0,bt=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object),Tt="[object Object]",Nt=Function.prototype,Et=Object.prototype,xt=Nt.toString,wt=Et.hasOwnProperty,kt=xt.call(Object),Ct=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}(Xe="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")()),Ot={INIT:"@@redux/INIT"},St=Object.assign||function(e){for(var t=arguments,n=1;n<arguments.length;n++){var o=t[n];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},Rt="ADD_TODO",_t="REMOVE_TODO",jt="TOGGLE_COMPLETION",At="START_EDITING",It="STOP_EDITING",Mt="CLEAR_COMPLETED",Dt="TOGGLE_ALL",Lt=Object.assign,Ht=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},Pt={todos:JSON.parse(localStorage["diffhtml-todos"]||"[]"),getByStatus:function(e){return this.todos.filter(function(t){switch(e){case"active":return!t.completed;case"completed":return t.completed}return!0})}},Vt="SET_HASH_STATE",Ut=Object.assign,Bt={path:location.hash.slice(1)||"/"},Ft=H(function(){for(var e=arguments,t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=e[o];return function(e){return function(t,o,r){var a=e(t,o,r),i=a.dispatch,l=[],u={getState:a.getState,dispatch:function(e){return i(e)}};return l=n.map(function(e){return e(u)}),i=H.apply(void 0,l)(a.dispatch),St({},a,{dispatch:i})}}}(),window.devToolsExtension?window.devToolsExtension():function(e){return e})(M)(function(e){for(var t=Object.keys(e),n={},o=0;o<t.length;o++){var r=t[o];"function"==typeof e[r]&&(n[r]=e[r])}var a,i=Object.keys(n);try{L(n)}catch(e){a=e}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(a)throw a;for(var o=!1,r={},l=0;l<i.length;l++){var u=i[l],c=n[u],s=e[u],d=c(s,t);if(void 0===d){var f=D(u,t);throw new Error(f)}r[u]=d,o=o||d!==s}return o?r:e}}({todoApp:W,url:K,lastAction:function(e,t){return t}}),{}),zt=function(e){return e.stopPropagation()},Gt=function(t){function n(e){ue(this,n);var t=fe(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.addTodo=function(e){e.preventDefault();var t=e.target.parentNode.querySelector(".new-todo");Ft.dispatch(P(t.value)),t.value=""},t.removeTodo=function(e){if(e.target.matches(".destroy")){var t=e.target.parentNode.parentNode;Ft.dispatch(V(t.key))}},t.toggleCompletion=function(e){if(e.target.matches(".toggle")){var t=e.target.parentNode.parentNode;Ft.dispatch(U(t.key,e.target.checked))}},t.startEditing=function(e){if(e.target.matches("label")){var t=e.target.parentNode.parentNode;Ft.dispatch(B(t.key)),t.querySelector("form input").focus()}},t.stopEditing=function(e){e.preventDefault();var t=e.target.parentNode,n="li"===t.nodeName.toLowerCase()?t:t.parentNode,o=n.querySelector(".edit").value.trim();o?Ft.dispatch(F(n.key,o)):Ft.dispatch(V(n.key))},t.clearCompleted=function(e){e.target.matches(".clear-completed")&&Ft.dispatch(z())},t.toggleAll=function(e){e.target.matches(".toggle-all")&&Ft.dispatch(G(e.target.checked))},t.handleKeyDown=function(e){if(e.target.matches(".edit, .new-todo"))switch(e.keyCode){case 27:var n=Ft.getState()[t.props.reducer],o=e.target.parentNode.parentNode;e.target.value=n.todos.find(function(e){return e.key===o.key}).title,t.stopEditing(e);break;case 13:t.onSubmitHandler(Object.assign({},e,{preventDefault:function(){return e.preventDefault()},target:e.target.parentNode}))}},t.onSubmitHandler=function(e){e.preventDefault(),e.target.matches(".add-todo")?t.addTodo(e):e.target.matches(".edit-todo")&&t.stopEditing(e)},t.onClickHandler=function(e){e.target.matches(".destroy")?t.removeTodo(e):e.target.matches(".toggle-all")?t.toggleAll(e):e.target.matches(".clear-completed")&&t.clearCompleted(e)},t.getTodoClassNames=function(e){return[e.completed?"completed":"",e.editing?"editing":""].filter(Boolean).join(" ")},t.setCheckedState=function(){return Ft.getState()[t.props.reducer].todos.filter(function(e){return!e.completed}).length?"":"checked"},t.getNavClass=function(e){return Ft.getState().url.path===e?"selected":void 0},t.unsubscribeStore=Ft.subscribe(function(){return t.forceUpdate()}),t}var o=e("#text",null,"\n\n\t\t\t\t"),r=e("#text",null,"\n\t\t\t\t\t"),a=e("#text",null,"todos"),i=e("#text",null,"\n\n\t\t\t\t\t"),l=e("#text",null,"\n\t\t\t\t\t\t"),u=e("#text",null,"\n\t\t\t\t\t"),c=e("#text",null,"\n\t\t\t\t"),s=e("#text",null,"\n\n\t\t\t"),d=e("#text",null,"\n\t\t\t\t"),f=e("#text",null,"Double-click to edit a todo"),h=e("#text",null,"\n\n\t\t\t\t"),p=e("#text",null,"\n\t\t\t\t\tCreated by "),v=e("#text",null,"Tim Branyen"),g=e("#text",null,"\n\t\t\t\t\tusing "),y=e("#text",null,"diffHTML 1.0"),m=e("#text",null,"\n\t\t\t\t"),b=e("#text",null,"\n\n\t\t\t\t"),T=e("#text",null,"Part of "),N=e("#text",null,"TodoMVC"),E=e("#text",null,"\n\t\t\t"),x=e("#text",null,"\n            "),w=e("#text",null,"\n            "),k=e("#text",null,"Mark all as complete"),C=e("#text",null,"\n\n\t\t\t\t\t\t"),O=e("#text",null,"\n\t\t\t\t\t\t\t"),S=e("#text",null,"\n\t\t\t\t\t\t}"),R=e("#text",null,"\n\t\t\t\t\t"),_=e("#text",null,"\n\n\t\t\t\t\t"),j=e("#text",null,"\n\t\t\t\t\t\t"),A=e("#text",null,"\n\t\t\t\t\t\t\t"),I=e("#text",null,"\n\n\t\t\t\t\t\t"),M=e("#text",null,"\n\t\t\t\t\t\t\t"),D=e("#text",null,"\n\t\t\t\t\t\t\t\t"),L=e("#text",null,"All"),H=e("#text",null,"\n\t\t\t\t\t\t\t"),W=e("#text",null,"\n\t\t\t\t\t\t\t"),q=e("#text",null,"\n\t\t\t\t\t\t\t\t"),K=e("#text",null,"Active"),Q=e("#text",null,"\n\t\t\t\t\t\t\t"),X=e("#text",null,"\n\t\t\t\t\t\t\t"),Y=e("#text",null,"\n\t\t\t\t\t\t\t\t"),Z=e("#text",null,"Completed"),$=e("#text",null,"\n\t\t\t\t\t\t\t"),ee=e("#text",null,"\n\t\t\t\t\t\t"),te=e("#text",null,"Clear completed");return de(n,t),ce(n,[{key:"render",value:function(){var t=Ft.getState(),n=t[this.props.reducer],P=t.url.path.slice(1),V=n.todos,U=n.getByStatus(P),B=n.getByStatus("active"),F=n.getByStatus("completed");return localStorage["diffhtml-todos"]=JSON.stringify(V),[e("section",{class:"todoapp",onsubmit:this.onSubmitHandler,onclick:this.onClickHandler,onkeydown:this.handleKeyDown,ondblclick:this.startEditing,onchange:this.toggleCompletion},[o,e("header",{class:"header"},[r,e("h1",{},[a]),i,e("form",{class:"add-todo"},[l,e("input",{class:"new-todo",placeholder:"What needs to be done?",autofocus:""},[]),u]),c]),V.length&&[e("section",{class:"main"},[x,e("input",se({class:"toggle-all",id:"toggle-all",type:"checkbox"},this.setCheckedState(),this.setCheckedState()),[]),w,e("label",{for:"toggle-all"},[k]),C,e("ul",{class:"todo-list"},[O,e(J,{stopEditing:this.stopEditing,getTodoClassNames:this.getTodoClassNames,todos:U},[]),S]),R]),_,e("footer",{class:"footer"},[j,e("span",{class:"todo-count"},[A,e("strong",{},[String(B.length)]),e("#document-fragment",null,[1==B.length?" item":" items",e("#text"," left\n\t\t\t\t\t\t")])]),I,e("ul",{class:"filters"},[M,e("li",{},[D,e("a",{href:"#/",class:this.getNavClass("/")},[L]),H]),W,e("li",{},[q,e("a",{href:"#/active",class:this.getNavClass("/active")},[K]),Q]),X,e("li",{},[Y,e("a",{href:"#/completed",class:this.getNavClass("/completed")},[Z]),$]),ee]),F.length&&e("button",{class:"clear-completed",onclick:this.clearCompleted},[te])])]]),s,e("footer",{class:"info"},[d,e("p",{},[f]),h,e("p",{},[p,e("a",{href:"http://github.com/tbranyen"},[v]),g,e("a",{href:"http://diffhtml.org"},[y]),m]),b,e("p",{},[T,e("a",{href:"http://todomvc.com"},[N])]),E])]}}]),n}(lt),Wt=function(e){return Ft.dispatch(q(e))};m(document.querySelector("todo-app"),e(Gt,{reducer:"todoApp"},[])),window.onhashchange=function(e){return Wt(location.hash)}});